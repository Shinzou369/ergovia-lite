# ============================================
# ERGOVIA LITE BACKEND - ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in your values

# Server Configuration
NODE_ENV=development
PORT=3000
API_BASE_URL=http://localhost:3000

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:5500

# ============================================
# DATABASE (PostgreSQL)
# ============================================
DATABASE_URL=postgresql://ergovia:your_password@localhost:5432/ergovia_marketing
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ergovia_marketing
DB_USER=ergovia
DB_PASSWORD=your_secure_password

# ============================================
# LEMON SQUEEZY
# ============================================
# Get these from: https://app.lemonsqueezy.com/settings/api

# API Key (Settings > API)
LEMONSQUEEZY_API_KEY=your_lemon_squeezy_api_key

# Store ID (visible in your store URL or API)
LEMONSQUEEZY_STORE_ID=your_store_id

# Product ID for Ergovia Lite ($297/month)
LEMONSQUEEZY_PRODUCT_ID=your_product_id

# Variant ID (if using variants)
LEMONSQUEEZY_VARIANT_ID=your_variant_id

# Webhook Secret (Settings > Webhooks > Signing secret)
LEMONSQUEEZY_WEBHOOK_SECRET=your_webhook_signing_secret

# ============================================
# N8N INTEGRATION
# ============================================
# Your n8n instance for workflow triggers

N8N_BASE_URL=https://n8n.ergovia-ai.com
N8N_API_KEY=your_n8n_api_key

# Webhook URLs for triggering workflows
N8N_WEBHOOK_NEW_CUSTOMER=https://n8n.ergovia-ai.com/webhook/new-customer
N8N_WEBHOOK_SUBSCRIPTION_ACTIVE=https://n8n.ergovia-ai.com/webhook/subscription-active
N8N_WEBHOOK_SUBSCRIPTION_CANCELLED=https://n8n.ergovia-ai.com/webhook/subscription-cancelled
N8N_WEBHOOK_PAYMENT_FAILED=https://n8n.ergovia-ai.com/webhook/payment-failed

# ============================================
# EMAIL NOTIFICATIONS (Optional)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
EMAIL_FROM=hello@ergovia.ai

# ============================================
# TELEGRAM NOTIFICATIONS (Optional)
# ============================================
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_ADMIN_CHAT_ID=your_admin_chat_id

# ============================================
# SECURITY
# ============================================
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your_jwt_secret_key_here
ENCRYPTION_KEY=your_32_character_encryption_key

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
