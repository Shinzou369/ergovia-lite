<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Properties - Ergovia Premium</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-home"></i>
                <span>Ergovia</span>
            </div>
            <div class="nav-menu">
                <a href="dashboard.html" class="nav-item">
                    <i class="fas fa-th-large"></i>
                    <span>Dashboard</span>
                </a>
                <a href="settings.html" class="nav-item">
                    <i class="fas fa-clipboard-list"></i>
                    <span>Settings</span>
                </a>
                <a href="properties.html" class="nav-item active">
                    <i class="fas fa-building"></i>
                    <span>Properties</span>
                </a>
            </div>
            <div class="nav-user">
                <div class="notification-bell" onclick="toggleNotifications()">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notificationCount">0</span>
                </div>
                <div class="user-profile">
                    <i class="fas fa-user-circle"></i>
                    <span id="userName">Owner</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="main-container">
        <div class="page-header">
            <h1><i class="fas fa-building"></i> My Properties</h1>
            <button class="btn-primary" onclick="showAddPropertyModal()">
                <i class="fas fa-plus-circle"></i> Add New Property
            </button>
        </div>

        <!-- Properties Grid -->
        <div class="properties-grid" id="propertiesGrid">
            <!-- Properties will be loaded here -->
        </div>

        <!-- Empty State -->
        <div class="empty-state" id="emptyState" style="display:none;">
            <i class="fas fa-home-lg-alt"></i>
            <h2>No Properties Yet</h2>
            <p>Add your first property to get started</p>
            <button class="btn-primary" onclick="showAddPropertyModal()">
                <i class="fas fa-plus-circle"></i> Add Your First Property
            </button>
        </div>
    </div>

    <!-- Add/Edit Property Modal -->
    <div class="modal" id="propertyModal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2 id="propertyModalTitle">
                    <i class="fas fa-building"></i> Add New Property
                </h2>
                <span class="modal-close" onclick="closePropertyModal()">&times;</span>
            </div>

            <form id="propertyForm" onsubmit="return handlePropertySubmit(event)">
                <input type="hidden" id="propertyId" name="propertyId">

                <!-- Basic Information -->
                <div class="form-section-modal">
                    <h3><i class="fas fa-info-circle"></i> Basic Information</h3>

                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label for="propertyName">
                                <i class="fas fa-tag"></i> Property Name
                                <span class="required">*</span>
                            </label>
                            <input type="text" id="propertyName" name="propertyName" required
                                   placeholder="Beach House, Downtown Apartment, etc.">
                        </div>

                        <div class="form-group full-width">
                            <label for="propertyAddress">
                                <i class="fas fa-map-marker-alt"></i> Full Address
                                <span class="required">*</span>
                            </label>
                            <textarea id="propertyAddress" name="propertyAddress" required rows="2"
                                      placeholder="123 Main Street, City, State, ZIP"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="propertyType">
                                <i class="fas fa-home"></i> Property Type
                                <span class="required">*</span>
                            </label>
                            <select id="propertyType" name="propertyType" required>
                                <option value="">Select type...</option>
                                <option value="apartment">Apartment</option>
                                <option value="house">House</option>
                                <option value="condo">Condo</option>
                                <option value="villa">Villa</option>
                                <option value="cabin">Cabin</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="numberOfFloors">
                                <i class="fas fa-layer-group"></i> Number of Floors
                            </label>
                            <input type="number" id="numberOfFloors" name="numberOfFloors" min="1" max="10"
                                   placeholder="1">
                        </div>

                        <div class="form-group">
                            <label for="numberOfBedrooms">
                                <i class="fas fa-bed"></i> Bedrooms
                                <span class="required">*</span>
                            </label>
                            <input type="number" id="numberOfBedrooms" name="numberOfBedrooms" required min="0"
                                   placeholder="2">
                        </div>

                        <div class="form-group">
                            <label for="numberOfBathrooms">
                                <i class="fas fa-bath"></i> Bathrooms
                                <span class="required">*</span>
                            </label>
                            <input type="number" id="numberOfBathrooms" name="numberOfBathrooms" required min="0" step="0.5"
                                   placeholder="1.5">
                        </div>

                        <div class="form-group">
                            <label for="maxGuests">
                                <i class="fas fa-users"></i> Maximum Guests
                                <span class="required">*</span>
                            </label>
                            <input type="number" id="maxGuests" name="maxGuests" required min="1"
                                   placeholder="4">
                        </div>

                        <div class="form-group">
                            <label for="squareFeet">
                                <i class="fas fa-ruler-combined"></i> Square Feet
                            </label>
                            <input type="number" id="squareFeet" name="squareFeet"
                                   placeholder="1200">
                        </div>
                    </div>
                </div>

                <!-- Listing Platforms -->
                <div class="form-section-modal">
                    <h3><i class="fas fa-globe"></i> Listing Platforms</h3>

                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label for="airbnbListingUrl">
                                <i class="fab fa-airbnb"></i> Airbnb Listing URL
                            </label>
                            <input type="url" id="airbnbListingUrl" name="airbnbListingUrl"
                                   placeholder="https://www.airbnb.com/rooms/...">
                        </div>

                        <div class="form-group full-width">
                            <label for="bookingComUrl">
                                <i class="fas fa-hotel"></i> Booking.com URL
                            </label>
                            <input type="url" id="bookingComUrl" name="bookingComUrl"
                                   placeholder="https://www.booking.com/hotel/...">
                        </div>

                        <div class="form-group full-width">
                            <label for="vrboUrl">
                                <i class="fas fa-home"></i> VRBO URL
                            </label>
                            <input type="url" id="vrboUrl" name="vrboUrl"
                                   placeholder="https://www.vrbo.com/...">
                        </div>
                    </div>
                </div>

                <!-- Access & Keys -->
                <div class="form-section-modal">
                    <h3><i class="fas fa-key"></i> Access Information</h3>

                    <div class="form-grid">
                        <div class="form-group">
                            <label for="lockType">
                                <i class="fas fa-lock"></i> Lock Type
                            </label>
                            <select id="lockType" name="lockType">
                                <option value="">Select...</option>
                                <option value="keypad">Smart Keypad</option>
                                <option value="lockbox">Lockbox</option>
                                <option value="physical_key">Physical Key</option>
                                <option value="smart_lock">Smart Lock</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="doorCode">
                                <i class="fas fa-hashtag"></i> Door Code / Access Instructions
                            </label>
                            <input type="text" id="doorCode" name="doorCode"
                                   placeholder="1234 or instructions">
                        </div>

                        <div class="form-group full-width">
                            <label for="accessInstructions">
                                <i class="fas fa-map-signs"></i> Detailed Access Instructions
                            </label>
                            <textarea id="accessInstructions" name="accessInstructions" rows="3"
                                      placeholder="Example: Enter through the side gate, code is 1234. Main door is the blue one on the left."></textarea>
                        </div>
                    </div>
                </div>

                <!-- Property Contacts -->
                <div class="form-section-modal">
                    <h3><i class="fas fa-address-book"></i> Property Contacts</h3>
                    <p class="section-description-small">Who handles specific tasks for this property?</p>

                    <div class="form-grid">
                        <div class="form-group">
                            <label for="cleanerName">
                                <i class="fas fa-broom"></i> Cleaner Name
                            </label>
                            <input type="text" id="cleanerName" name="cleanerName"
                                   placeholder="Cleaning person's name">
                        </div>

                        <div class="form-group">
                            <label for="cleanerPhone">
                                <i class="fas fa-phone"></i> Cleaner Phone
                            </label>
                            <input type="tel" id="cleanerPhone" name="cleanerPhone"
                                   placeholder="+1234567890">
                        </div>

                        <div class="form-group">
                            <label for="maintenanceName">
                                <i class="fas fa-wrench"></i> Maintenance Contact
                            </label>
                            <input type="text" id="maintenanceName" name="maintenanceName"
                                   placeholder="Maintenance person's name">
                        </div>

                        <div class="form-group">
                            <label for="maintenancePhone">
                                <i class="fas fa-phone"></i> Maintenance Phone
                            </label>
                            <input type="tel" id="maintenancePhone" name="maintenancePhone"
                                   placeholder="+1234567890">
                        </div>

                        <div class="form-group">
                            <label for="onGroundName">
                                <i class="fas fa-user-tie"></i> On-Ground Contact
                            </label>
                            <input type="text" id="onGroundName" name="onGroundName"
                                   placeholder="Local contact person">
                            <small class="help-text">Person who can physically check the property</small>
                        </div>

                        <div class="form-group">
                            <label for="onGroundPhone">
                                <i class="fas fa-phone"></i> On-Ground Phone
                            </label>
                            <input type="tel" id="onGroundPhone" name="onGroundPhone"
                                   placeholder="+1234567890">
                        </div>
                    </div>
                </div>

                <!-- Amenities & Features -->
                <div class="form-section-modal">
                    <h3><i class="fas fa-star"></i> Amenities & Features</h3>

                    <div class="amenities-grid">
                        <label class="checkbox-label">
                            <input type="checkbox" name="amenity_wifi" value="1">
                            <i class="fas fa-wifi"></i> WiFi
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="amenity_parking" value="1">
                            <i class="fas fa-parking"></i> Parking
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="amenity_pool" value="1">
                            <i class="fas fa-swimming-pool"></i> Pool
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="amenity_kitchen" value="1">
                            <i class="fas fa-utensils"></i> Kitchen
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="amenity_washer" value="1">
                            <i class="fas fa-tshirt"></i> Washer/Dryer
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="amenity_ac" value="1">
                            <i class="fas fa-snowflake"></i> A/C
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="amenity_heating" value="1">
                            <i class="fas fa-fire"></i> Heating
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="amenity_tv" value="1">
                            <i class="fas fa-tv"></i> TV
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="amenity_petfriendly" value="1">
                            <i class="fas fa-paw"></i> Pet Friendly
                        </label>
                    </div>
                </div>

                <!-- Special Notes -->
                <div class="form-section-modal">
                    <h3><i class="fas fa-sticky-note"></i> Special Notes</h3>

                    <div class="form-group full-width">
                        <label for="propertyNotes">
                            <i class="fas fa-comment-alt"></i> Property-Specific Notes for AI
                        </label>
                        <textarea id="propertyNotes" name="propertyNotes" rows="4"
                                  placeholder="Example: The WiFi password is posted on the fridge. Parking spot is #7. Remind guests to close windows during rain."></textarea>
                    </div>
                </div>

                <!-- Form Actions -->
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closePropertyModal()">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-save"></i> Save Property
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Scripts -->
    <script src="assets/js/config.js"></script>
    <script src="assets/js/properties.js"></script>
</body>
</html>
